# Архитектурное решение системы

## Общая структура

Система реализована как набор независимых микросервисов, взаимодействующих между собой через API.  
Каждый сервис автономен и отвечает за свой участок бизнес-логики.

### Компоненты архитектуры

- **Gateway-сервер** — точка входа для всех внешних запросов. Обеспечивает маршрутизацию, авторизацию и балансировку нагрузки.
- **Config-сервер** — централизованное хранилище конфигураций всех микросервисов.
- **Discovery-сервер** — сервис регистрации и обнаружения микросервисов.
- **Основные микросервисы** — функциональные модули, реализующие бизнес-логику системы.

---

## Микросервисы

### User-сервис
**Назначение:** управление пользовательскими данными.

**Эндпоинты:**
- `GET /admin/users` — получение списка всех пользователей
- `GET /admin/users/{userId}` — поиск пользователя по ID
- `GET /admin/{userId}` — проверка существования пользователя

---

### Event-сервис
**Назначение:** работа с событиями.

**Эндпоинты:**
- `GET /events/{id}` — получение информации о событии
- `POST /users/{userId}/events` — создание нового события
- `PATCH /admin/events/{eventId}` — обновление данных о событии
- `GET /admin/events/{id}` — проверка существования события

---

### Request-сервис
**Назначение:** управление заявками на участие в событиях.

**Эндпоинты:**
- `GET /users/{userId}/requests` — получение всех заявок пользователя
- `POST /users/{userId}/requests` — создание новой заявки
- `PATCH /users/{userId}/requests/{requestId}/cancel` — отмена заявки
- `GET /requests/event/{eventId}` — получение заявок по событию
- `GET /requests/event/confirmed/{eventId}` — получение подтверждённых заявок
- `PATCH /requests/status/{id}` — изменение статуса заявки

---

### Comment-сервис
**Назначение:** работа с комментариями пользователей.

**Эндпоинты:**
- `GET /comments/{eventId}` — получение комментариев события
- `POST /users/{userId}/comments` — создание комментария
- `PATCH /users/{userId}/comments/{commentId}` — обновление комментария
- `DELETE /users/{userId}/comments/{commentId}` — удаление комментария

---

### Stats-сервис
**Назначение:** сбор и предоставление статистических данных.

**Эндпоинты:**
- `GET /stats` — получение общей статистики
- `POST /hit` — запись статистической информации

---